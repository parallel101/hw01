# 对于提问 “还能解释清楚为什么 stbi 必须要这样设计” 的一些思考

通过对stbi的代码进行的阅读，其实能够发现stbi这个lib中的各种function的implementation是通过macro来进行控制的。通过定义不同的macro来使得编译器能够读取到对应的function并进行编译。这样做的好处在我看来是避免了在header中的所有的function都需要进行编译的情况，节省编译的时间并且提高效率。另一点大概是因为如果编译成static library的情况下，通过macro来控制编译需要编译的function能有效节省编译出来的代码的空间大小。

然后就是对小彭老师的感谢。因为在开始学习HPC，需要学习cpp的并行编程的情况下，您的课出现在了我的面前。让我能够更加轻松的学习，作业安排也很有趣。在这里不免问一下，小彭老师是不是也在国外呢？因为您的作业风格很像是我在欧洲和美国写过的作业的风格。